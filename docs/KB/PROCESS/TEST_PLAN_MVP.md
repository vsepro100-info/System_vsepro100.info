Status: PROCESS
Owner: Architect
Last updated: 2026-01-28

# Test Plan (Manual) — Webinars MVP v1++

## Цель
Проверить готовность MVP v1++ к деплою в пределах LIVE-контура и подтверждённых сценариев.

## Preconditions
- В системе есть расписание вебинара в Core (`webinar_event`).
- Пользователи с ролями: guest, candidate, admin/speaker.
- Telegram интеграции подключены для проверки post-webinar уведомлений.

## Happy-path сценарии

### HP-1: Гость видит расписание
1) Открыть `/webinars/` как неавторизованный пользователь.
2) Убедиться, что отображается публичное расписание.

**Ожидание:** страница расписания доступна гостю, без доступа к комнате вебинара.

### HP-2: Спикер/админ запускает и завершает LIVE вебинар
1) Авторизоваться с правом `edit_pages`.
2) Открыть `/admin_webinar/`.
3) Убедиться, что доступны бизнес-поля (заголовок, дата/время, постер, iframe плеера/чата, CTA).
4) Запустить вебинар через `core_webinar_set_status(start)`.
5) Остановить вебинар через `core_webinar_set_status(stop)`.

**Ожидание:** старт/стоп производится только через канонический Core hook.

### HP-3: Кандидат участвует в LIVE вебинаре
1) Авторизоваться как candidate.
2) Открыть `/account/webinar_room/`.
3) Убедиться, что зафиксированы события `client_webinar_entered` и `client_webinar_completed`.
4) Дождаться классификации посещения (`client_webinar_attendance_classified`).

**Ожидание:** факты участия фиксируются и формируется событие классификации.

### HP-4: Post-webinar routing и Telegram follow-up
1) Завершить участие кандидата в вебинаре.
2) Проверить формирование `post_webinar_route` и получение Telegram follow-up (attended / not_attended).
3) Для `not_attended` проверить отправку записи вебинара.

**Ожидание:** маршрутизация и Telegram follow-up работают только в post-webinar контуре.

## Негативные сценарии

### NEG-1: Гость пытается войти в комнату вебинара
1) Открыть `/account/webinar_room/` как guest.

**Ожидание:** доступ запрещён для неавторизованного пользователя.

### NEG-2: Пользователь без `edit_pages` открывает `/admin_webinar/`
1) Авторизоваться без права `edit_pages`.
2) Открыть `/admin_webinar/`.

**Ожидание:** доступ к админской странице запрещён.

### NEG-3: Попытка использовать AutoWebinar контур
1) Попытаться запустить сценарии AUTO вебинара или события `autowebinar_*`.

**Ожидание:** AutoWebinar не исполняется в MVP runtime; функциональность отсутствует.

### NEG-4: Отсутствует referral context (ref)
1) Открыть публичные страницы `/webinars/` без ref-параметров.
2) Попытаться зарегистрироваться или инициировать ref/CRM процессы вне `/signup/`.

**Ожидание:** регистрация остаётся только через `/signup/`; не создаются альтернативные ref/CRM цепочки.
