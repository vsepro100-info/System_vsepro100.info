# Runbook деплоя

## Цель
Обеспечить предсказуемый деплой: от мержа до проверки на целевой среде.

## Предусловия
- Изменения зафиксированы в репозитории.
- Релевантные решения отражены в [Логе решений](DECISIONS_LOG.md).

## Пошаговый процесс
1. **Мерж**
   - Убедиться, что ветка слита в целевую ветку.
   - Проверить, что коммиты соответствуют задаче.
2. **Определить что деплоить**
   - Список файлов/модулей из последнего изменения.
   - Связать с модулями в [Статусе модулей](MODULES_STATUS.md).
3. **Куда копировать**
   - Целевая среда: `<указать среду>`.
   - Путь в проекте: `<путь на сервере>`.
   - Отдельно перечислить каталоги, если применимо.
4. **Как активировать**
   - Очистка кэша (если есть).
   - Перезапуск служб (если есть).
   - Обновление настроек через панель администратора (если есть).
5. **Как проверить**
   - Пройти [Чек-лист тестирования](TESTING_CHECKLIST.md).
   - Проверить ключевые страницы из [Реестра страниц](PAGES_REGISTRY.md).

## Типовые грабли и как их избежать
- **Забыли обновить зависимый модуль** → всегда сверять с [Статусом модулей](MODULES_STATUS.md).
- **Изменение есть в коде, но не появилось в интерфейсе** → очистить кэш/пересобрать статику.
- **Доступы не совпадают с ожиданиями** → проверить роли в чек-листе.
- **Новые шорткоды не работают** → сверить регистрацию в [Реестре шорткодов](SHORTCODES_REGISTRY.md).

## Шаблон записи о деплое
```
Дата:
Ветка/коммиты:
Что деплоили:
Куда:
Как активировали:
Как проверили:
Итог:
```
