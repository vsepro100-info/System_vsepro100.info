Status: DRAFT
Owner: Architect
Last updated: 2026-01-28

# –ò–¥–µ–∏ –∏ —Å—ã—Ä—å—ë

## ARGUMENTS_BANK (—Å—ã—Ä–æ–π –±–∞–Ω–∫ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤)

### –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞
- –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∏–π –∏—Å—Ç–æ—á–Ω–∏–∫ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –∏ —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–æ–∫.
- –≠—Ç–æ –ù–ï –ø—Ä–æ–¥–∞—é—â–∏–π —Ç–µ–∫—Å—Ç –∏ –ù–ï –ª–µ–Ω–¥–∏–Ω–≥.
- –î–æ–∫—É–º–µ–Ω—Ç –≤–µ–¥—ë—Ç—Å—è –≤–æ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ –ü—Ä–∞–≤–∏–ª–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ (Rule #8) –∏–∑ CONTRACTS.

### 1. –ë–∞–∑–æ–≤–æ–µ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

**–ê—Ä–≥—É–º–µ–Ω—Ç 1**
- –ù–∞–∑–≤–∞–Ω–∏–µ: –ù–µ –∏–Ω—Ñ–æ–±–∏–∑–Ω–µ—Å –∏ –Ω–µ ¬´—Å—Ö–µ–º—ã¬ª
- –û–ø–∏—Å–∞–Ω–∏–µ: –ú–æ–¥–µ–ª—å –Ω–µ –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –∫ –∏–Ω—Ñ–æ–ø—Ä–æ–¥—É–∫—Ç–∞–º –∏–ª–∏ ¬´—Å—Ö–µ–º–∞–º¬ª, –æ–ø–∏—Ä–∞–µ—Ç—Å—è –Ω–∞ –æ–±–æ—Ä–æ—Ç —Ç–æ–≤–∞—Ä–∞.
- –§–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∏ (–µ—Å–ª–∏ –µ—Å—Ç—å): ¬´–ù–µ –∏–Ω—Ñ–æ–±–∏–∑–Ω–µ—Å / –Ω–µ —Å—Ö–µ–º—ã¬ª
- –°—Ç–∞—Ç—É—Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è: üî•
- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä–∞: –î–ª—è —Å–Ω—è—Ç–∏—è –ø–µ—Ä–≤–∏—á–Ω—ã—Ö –≤–æ–∑—Ä–∞–∂–µ–Ω–∏–π –≤ –Ω–∞—á–∞–ª–µ –¥–∏–∞–ª–æ–≥–∞.

**–ê—Ä–≥—É–º–µ–Ω—Ç 2**
- –ù–∞–∑–≤–∞–Ω–∏–µ: –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è –º–æ–¥–µ–ª—å ¬´–¥–µ–Ω—å–≥–∏ ‚Üí —Ç–æ–≤–∞—Ä ‚Üí –¥–µ–Ω—å–≥–∏¬ª
- –û–ø–∏—Å–∞–Ω–∏–µ: –û—Å–Ω–æ–≤–æ–π —è–≤–ª—è–µ—Ç—Å—è —Ç–æ–≤–∞—Ä–Ω—ã–π –æ–±–æ—Ä–æ—Ç, –∞ –Ω–µ –æ–ø–ª–∞—Ç–∞ –∑–∞ —É—á–∞—Å—Ç–∏–µ.
- –§–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∏ (–µ—Å–ª–∏ –µ—Å—Ç—å): ¬´–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è –º–æ–¥–µ–ª—å: –¥–µ–Ω—å–≥–∏ ‚Üí —Ç–æ–≤–∞—Ä ‚Üí –¥–µ–Ω—å–≥–∏¬ª
- –°—Ç–∞—Ç—É—Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è: üî•
- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä–∞: –î–ª—è –æ–±—ä—è—Å–Ω–µ–Ω–∏—è —Å—É—Ç–∏ –±–∏–∑–Ω–µ—Å–∞ –∏ –æ—Ç–¥–µ–ª–µ–Ω–∏—è –æ—Ç —Å—Ö–µ–º.

### 2. –ü—Ä–æ–¥—É–∫—Ç

**–ê—Ä–≥—É–º–µ–Ω—Ç 1**
- –ù–∞–∑–≤–∞–Ω–∏–µ: –†–µ–∞–ª—å–Ω—ã–π –ø—Ä–æ–¥—É–∫—Ç —Å –±—ã—Å—Ç—Ä—ã–º –≤–∏–¥–∏–º—ã–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º
- –û–ø–∏—Å–∞–Ω–∏–µ: –ü—Ä–æ–¥—É–∫—Ç —Å—É—â–µ—Å—Ç–≤—É–µ—Ç —Ñ–∏–∑–∏—á–µ—Å–∫–∏ –∏ –æ–∂–∏–¥–∞–µ—Ç—Å—è –∑–∞–º–µ—Ç–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç –≤ –∫–æ—Ä–æ—Ç–∫–∏–π —Å—Ä–æ–∫.
- –§–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∏ (–µ—Å–ª–∏ –µ—Å—Ç—å): ¬´–†–µ–∞–ª—å–Ω—ã–π –ø—Ä–æ–¥—É–∫—Ç —Å –±—ã—Å—Ç—Ä—ã–º –≤–∏–¥–∏–º—ã–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º¬ª
- –°—Ç–∞—Ç—É—Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è: ‚ö†Ô∏è
- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä–∞: –£–º–µ—Å—Ç–Ω–æ –≤ –±–ª–æ–∫–µ –ø—Ä–æ –ø—Ä–æ–¥—É–∫—Ç; –∏–∑–±–µ–≥–∞—Ç—å –æ–±–µ—â–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞.

**–ê—Ä–≥—É–º–µ–Ω—Ç 2**
- –ù–∞–∑–≤–∞–Ω–∏–µ: –ü—Ä—è–º—ã–µ –ø–æ—Å—Ç–∞–≤–∫–∏ –æ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—è –∏ –∑–∞—â–∏—Ç–∞ –æ—Ç –ø–æ–¥–¥–µ–ª–æ–∫
- –û–ø–∏—Å–∞–Ω–∏–µ: –ü—Ä–æ–¥—É–∫—Ç –ø–æ—Å—Ç—É–ø–∞–µ—Ç –æ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—è –∏ –ø—Ä–µ–¥—É—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç –º–µ—Ä—ã –ø—Ä–æ—Ç–∏–≤ —Ñ–∞–ª—å—Å–∏—Ñ–∏–∫–∞—Ç–∞.
- –§–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∏ (–µ—Å–ª–∏ –µ—Å—Ç—å): ¬´–ü—Ä—è–º—ã–µ –ø–æ—Å—Ç–∞–≤–∫–∏ –æ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—è, –∑–∞—â–∏—Ç–∞ –æ—Ç –ø–æ–¥–¥–µ–ª–æ–∫¬ª
- –°—Ç–∞—Ç—É—Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è: ‚ö†Ô∏è
- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä–∞: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–∏ –æ–±—Å—É–∂–¥–µ–Ω–∏–∏ –ø—Ä–æ–∏—Å—Ö–æ–∂–¥–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–∞ –∏ –¥–æ–≤–µ—Ä–∏—è.

**–ê—Ä–≥—É–º–µ–Ω—Ç 3**
- –ù–∞–∑–≤–∞–Ω–∏–µ: –ü–æ–∫—É–ø–∫–∞ –ø—Ä–æ–¥—É–∫—Ç–∞ –Ω–µ –≤ —É–±—ã—Ç–æ–∫ –¥–∞–∂–µ –±–µ–∑ –±–∏–∑–Ω–µ—Å–∞
- –û–ø–∏—Å–∞–Ω–∏–µ: –ü–æ–∫—É–ø–∫–∞ –∏–º–µ–µ—Ç —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω—É—é —Ü–µ–Ω–Ω–æ—Å—Ç—å –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —É—á–∞—Å—Ç–∏—è –≤ –±–∏–∑–Ω–µ—Å–µ.
- –§–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∏ (–µ—Å–ª–∏ –µ—Å—Ç—å): ¬´–ü–æ–∫—É–ø–∫–∞ –ø—Ä–æ–¥—É–∫—Ç–∞ = –Ω–µ —É–±—ã—Ç–æ–∫ –¥–∞–∂–µ –±–µ–∑ –±–∏–∑–Ω–µ—Å–∞¬ª
- –°—Ç–∞—Ç—É—Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è: ‚ö†Ô∏è
- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä–∞: –ü–æ–¥—á—ë—Ä–∫–∏–≤–∞—Ç—å –≤ –¥–∏–∞–ª–æ–≥–µ –æ –≤—Ö–æ–¥–µ –∏ —Ä–∏—Å–∫–∞—Ö, –±–µ–∑ –¥–∞–≤–ª–µ–Ω–∏—è.

### 3. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ —Ä–∏—Å–∫–∏

**–ê—Ä–≥—É–º–µ–Ω—Ç 1**
- –ù–∞–∑–≤–∞–Ω–∏–µ: –ù–µ—Ç –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –µ–∂–µ–º–µ—Å—è—á–Ω—ã—Ö –∑–∞–∫—É–ø–æ–∫
- –û–ø–∏—Å–∞–Ω–∏–µ: –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ —Ä–µ–≥—É–ª—è—Ä–Ω—ã—Ö –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –∑–∞–∫—É–ø–æ–∫ –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é.
- –§–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∏ (–µ—Å–ª–∏ –µ—Å—Ç—å): ¬´–ù–µ—Ç –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –µ–∂–µ–º–µ—Å—è—á–Ω—ã—Ö –∑–∞–∫—É–ø–æ–∫¬ª
- –°—Ç–∞—Ç—É—Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è: üî•
- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä–∞: –û—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ —Å—Ç—Ä–∞—Ö–∏ –ø—Ä–æ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –∏ –Ω–∞–≤—è–∑–∞–Ω–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã.

**–ê—Ä–≥—É–º–µ–Ω—Ç 2**
- –ù–∞–∑–≤–∞–Ω–∏–µ: –ö–æ–º–ø–∞–Ω–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–µ–≥–∞–ª—å–Ω–æ
- –û–ø–∏—Å–∞–Ω–∏–µ: –î–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤–µ–¥—ë—Ç—Å—è –≤ –ø—Ä–∞–≤–æ–≤–æ–º –ø–æ–ª–µ.
- –§–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∏ (–µ—Å–ª–∏ –µ—Å—Ç—å): ¬´–ö–æ–º–ø–∞–Ω–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–µ–≥–∞–ª—å–Ω–æ¬ª
- –°—Ç–∞—Ç—É—Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è: üî•
- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä–∞: –î–ª—è —Å–Ω—è—Ç–∏—è —Å–æ–º–Ω–µ–Ω–∏–π –æ —é—Ä–∏–¥–∏—á–µ—Å–∫–æ–π —Å—Ç–æ—Ä–æ–Ω–µ.

### 4. –ë–∏–∑–Ω–µ—Å-–º–æ–¥–µ–ª—å

**–ê—Ä–≥—É–º–µ–Ω—Ç 1**
- –ù–∞–∑–≤–∞–Ω–∏–µ: –ë–∏–∑–Ω–µ—Å-–º–µ—Å—Ç–æ –ø–ª—é—Å –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã–π –æ–Ω–ª–∞–π–Ω-–º–∞–≥–∞–∑–∏–Ω
- –û–ø–∏—Å–∞–Ω–∏–µ: –í –º–æ–¥–µ–ª–∏ –µ—Å—Ç—å –ø—Ä–∏–≤—è–∑–∫–∞ –∫ –±–∏–∑–Ω–µ—Å-–º–µ—Å—Ç—É –∏ –æ–Ω–ª–∞–π–Ω-–º–∞–≥–∞–∑–∏–Ω—É —Å –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã–º –æ—Ö–≤–∞—Ç–æ–º.
- –§–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∏ (–µ—Å–ª–∏ –µ—Å—Ç—å): ¬´–ë–∏–∑–Ω–µ—Å-–º–µ—Å—Ç–æ + –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã–π –æ–Ω–ª–∞–π–Ω-–º–∞–≥–∞–∑–∏–Ω¬ª
- –°—Ç–∞—Ç—É—Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è: ‚ö†Ô∏è
- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä–∞: –û–±—ä—è—Å–Ω—è—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É —É—á–∞—Å—Ç–∏—è –∏ –∫–∞–Ω–∞–ª—ã –ø—Ä–æ–¥–∞–∂.

**–ê—Ä–≥—É–º–µ–Ω—Ç 2**
- –ù–∞–∑–≤–∞–Ω–∏–µ: –ù–µ—Å–∫–æ–ª—å–∫–æ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –¥–æ—Ö–æ–¥–∞ (–±–µ–∑ —Ü–∏—Ñ—Ä)
- –û–ø–∏—Å–∞–Ω–∏–µ: –ü—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ–Ω–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–π –ø–æ–ª—É—á–µ–Ω–∏—è –≤–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏—è –±–µ–∑ —É–∫–∞–∑–∞–Ω–∏—è —Å—É–º–º.
- –§–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∏ (–µ—Å–ª–∏ –µ—Å—Ç—å): ¬´–ù–µ—Å–∫–æ–ª—å–∫–æ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –¥–æ—Ö–æ–¥–∞ (–±–µ–∑ —Ü–∏—Ñ—Ä)¬ª
- –°—Ç–∞—Ç—É—Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è: ‚ö†Ô∏è
- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä–∞: –£–∫–∞–∑—ã–≤–∞—Ç—å –∫–∞–∫ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –º–æ–¥–µ–ª–∏, –∏–∑–±–µ–≥–∞—è –æ–±–µ—â–∞–Ω–∏–π.

### 5. –û–±—É—á–µ–Ω–∏–µ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞

**–ê—Ä–≥—É–º–µ–Ω—Ç 1**
- –ù–∞–∑–≤–∞–Ω–∏–µ: –ë–µ—Å–ø–ª–∞—Ç–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ –æ—Ç –ø—Ä–∞–∫—Ç–∏–∫–æ–≤
- –û–ø–∏—Å–∞–Ω–∏–µ: –û–±—É—á–µ–Ω–∏–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç –ø—Ä–∞–∫—Ç–∏–∫–∏ –±–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –æ–ø–ª–∞—Ç—ã.
- –§–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∏ (–µ—Å–ª–∏ –µ—Å—Ç—å): ¬´–ë–µ—Å–ø–ª–∞—Ç–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ –æ—Ç –ø—Ä–∞–∫—Ç–∏–∫–æ–≤¬ª
- –°—Ç–∞—Ç—É—Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è: ‚ö†Ô∏è
- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä–∞: –ü—Ä–∏–º–µ–Ω—è—Ç—å –ø—Ä–∏ –æ–±—Å—É–∂–¥–µ–Ω–∏–∏ –≤—Ö–æ–¥–∞ –∏ —Ä–∞–∑–≤–∏—Ç–∏—è –Ω–∞–≤—ã–∫–æ–≤.

### 6. –ö–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç –∏ –∫–æ–º–∞–Ω–¥–∞

**–ê—Ä–≥—É–º–µ–Ω—Ç 1**
- –ù–∞–∑–≤–∞–Ω–∏–µ: –ö–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç –º–∞—Ç–µ—Ä–∏–∞–ª—å–Ω–æ –∑–∞–∏–Ω—Ç–µ—Ä–µ—Å–æ–≤–∞–Ω –≤ —É—Å–ø–µ—Ö–µ –ø–∞—Ä—Ç–Ω—ë—Ä–∞
- –û–ø–∏—Å–∞–Ω–∏–µ: –ó–∞–∏–Ω—Ç–µ—Ä–µ—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å –∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç–∞ —Å–≤—è–∑–∞–Ω–∞ —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ –ø–∞—Ä—Ç–Ω—ë—Ä–∞.
- –§–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∏ (–µ—Å–ª–∏ –µ—Å—Ç—å): ¬´–ö–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç –º–∞—Ç–µ—Ä–∏–∞–ª—å–Ω–æ –∑–∞–∏–Ω—Ç–µ—Ä–µ—Å–æ–≤–∞–Ω –≤ —É—Å–ø–µ—Ö–µ –ø–∞—Ä—Ç–Ω—ë—Ä–∞¬ª
- –°—Ç–∞—Ç—É—Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è: ‚ö†Ô∏è
- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä–∞: –î–ª—è –æ–±—ä—è—Å–Ω–µ–Ω–∏—è –º–æ—Ç–∏–≤–∞—Ü–∏–∏ —Å–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏—è.

### 7. –ë–æ–Ω—É—Å—ã –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

**–ê—Ä–≥—É–º–µ–Ω—Ç 1**
- –ù–∞–∑–≤–∞–Ω–∏–µ: –ö—ç—à–±—ç–∫ –∏ –±–æ–Ω—É—Å–Ω—ã–π —Å—á—ë—Ç
- –û–ø–∏—Å–∞–Ω–∏–µ: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –º–µ—Ö–∞–Ω–∏–∫–∞ –∫—ç—à–±—ç–∫–∞ –∏ –±–æ–Ω—É—Å–Ω–æ–≥–æ —Å—á—ë—Ç–∞.
- –§–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∏ (–µ—Å–ª–∏ –µ—Å—Ç—å): ¬´–ö—ç—à–±—ç–∫ / –±–æ–Ω—É—Å–Ω—ã–π —Å—á—ë—Ç¬ª
- –°—Ç–∞—Ç—É—Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è: ‚ö†Ô∏è
- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä–∞: –£—Ç–æ—á–Ω—è—Ç—å –º–µ—Ö–∞–Ω–∏–∫—É –Ω–∞—á–∏—Å–ª–µ–Ω–∏–π –±–µ–∑ –æ–±–µ—â–∞–Ω–∏–π.

**–ê—Ä–≥—É–º–µ–Ω—Ç 2**
- –ù–∞–∑–≤–∞–Ω–∏–µ: –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å—Ç–∞—Ç—å —Ä–µ–≥–∏–æ–Ω–∞–ª—å–Ω—ã–º –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª–µ–º
- –û–ø–∏—Å–∞–Ω–∏–µ: –í –º–æ–¥–µ–ª–∏ –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ–Ω–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä–µ–≥–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª—å—Å—Ç–≤–∞.
- –§–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∏ (–µ—Å–ª–∏ –µ—Å—Ç—å): ¬´–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å—Ç–∞—Ç—å —Ä–µ–≥–∏–æ–Ω–∞–ª—å–Ω—ã–º –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª–µ–º¬ª
- –°—Ç–∞—Ç—É—Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è: ‚ö†Ô∏è
- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä–∞: –£–º–µ—Å—Ç–Ω–æ –¥–ª—è –æ–ø–∏—Å–∞–Ω–∏—è —Ä–æ—Å—Ç–∞ –∏ —Ä–æ–ª–µ–π.

### –§–æ—Ä–º–∞—Ç –∞—Ä–≥—É–º–µ–Ω—Ç–∞ (—à–∞–±–ª–æ–Ω)
- –ù–∞–∑–≤–∞–Ω–∏–µ
- –û–ø–∏—Å–∞–Ω–∏–µ
- –§–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∏ (–µ—Å–ª–∏ –µ—Å—Ç—å)
- –°—Ç–∞—Ç—É—Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è: üî• / ‚ö†Ô∏è / ‚ùå
- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä–∞

## –ß–µ—Ä–Ω–æ–≤–∏–∫: `[whieda_leads_table]`

```
/**
 * WHIEDA ‚Äî –ú–æ–∏ –∑–∞—è–≤–∫–∏ –ø–∞—Ä—Ç–Ω—ë—Ä–∞ —Å —Ñ–∏–ª—å—Ç—Ä–æ–º –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é —Ñ–æ—Ä–º—ã, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π –∏ –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π.
 * –î–æ—Å—Ç—É–ø: —Ç–æ–ª—å–∫–æ —Ä–æ–ª–∏ administrator –∏ partner.
 * –ü–∞–≥–∏–Ω–∞—Ü–∏—è: –ø–æ 5 –∞–Ω–∫–µ—Ç –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É, Prev/Next + –Ω–æ–º–µ—Ä–∞.
 * –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ: –≤—Å–µ —á–µ–∫–±–æ–∫—Å—ã (–≤ —Ç.—á. —Å "–î—Ä—É–≥–æ–µ"), –±–µ–∑ –¥—É–±–ª–µ–π, "–í—Ä–µ–º—è –æ—Ç–ø—Ä–∞–≤–∫–∏" –≤ —à–∞–ø–∫–µ.
 */
add_shortcode('whieda_leads_table', function () {
    if (!is_user_logged_in()) return '<p style="color:#c00;">‚õî –ù—É–∂–Ω–æ –≤–æ–π—Ç–∏ –≤ –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç.</p>';

    $user = wp_get_current_user();
    $allowed_roles = ['administrator','partner'];
    if (!array_intersect($allowed_roles, (array)$user->roles)) {
        return '<p style="color:#c00;">‚õî –î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â—ë–Ω. –¢–æ–ª—å–∫–æ –¥–ª—è –ø–∞—Ä—Ç–Ω—ë—Ä–æ–≤ WHIEDA.</p>';
    }

    // ‚Äî‚Äî‚Äî –ü–æ–ª—É—á–∞–µ–º –≤—Å–µ –∑–∞—è–≤–∫–∏ –ø–∞—Ä—Ç–Ω—ë—Ä–∞ ‚Äî‚Äî‚Äî
    $leads = get_user_meta($user->ID, 'wh_leads', true);
    if (empty($leads) || !is_array($leads)) return '<p>–ó–∞—è–≤–æ–∫ –ø–æ–∫–∞ –Ω–µ—Ç.</p>';

    // ‚Äî‚Äî‚Äî –•–µ–ª–ø–µ—Ä—ã ‚Äî‚Äî‚Äî
    global $wpdb;
    $page_var = 'lpg';
    $form_var = 'form_filter';
    $per_page = 5;

    $get_form_title = function (int $fid) use ($wpdb): string {
        if (!$fid) return '–ë–µ–∑ –Ω–∞–∑–≤–∞–Ω–∏—è';
        // 1) –ü—ã—Ç–∞–µ–º—Å—è –∫–∞–∫ –ø–æ—Å—Ç (Forminator —Ö—Ä–∞–Ω–∏—Ç —Ñ–æ—Ä–º—ã –∫–∞–∫ post_type)
        $title = '';
        $p = get_post($fid);
        if ($p && !is_wp_error($p)) $title = $p->post_title;
        if (!$title) {
            $title = $wpdb->get_var($wpdb->prepare("SELECT post_title FROM {$wpdb->posts} WHERE ID=%d", $fid));
        }
        // 2) –§–æ–ª–±—ç–∫: –ø—Ä–æ–±—É–µ–º —Ç–∞–±–ª–∏—Ü—É —Ñ–æ—Ä–º –ø–ª–∞–≥–∏–Ω–∞ (–µ—Å–ª–∏ –µ—Å—Ç—å)
        if (!$title) {
            $maybe_tbl = $wpdb->prefix . 'frmt_forms';
            if ($wpdb->get_var($wpdb->prepare("SHOW TABLES LIKE %s", $maybe_tbl))) {
                $name = $wpdb->get_var($wpdb->prepare("SELECT name FROM {$maybe_tbl} WHERE id=%d", $fid));
                if ($name) $title = $name;
            }
        }
        // 3) –ù–æ—Ä–º–∞–ª–∏–∑—É–µ–º –∫–∏—Ä–∏–ª–ª–∏—Ü—É/–∫–æ–¥–∏—Ä–æ–≤–∫–∏
        if ($title) {
            $title = rawurldecode($title);
            $title = html_entity_decode($title, ENT_QUOTES, 'UTF-8');
            return trim($title);
        }
        return "–§–æ—Ä–º–∞ #{$fid}";
    };

    // ‚Äî‚Äî‚Äî –°–æ–±–∏—Ä–∞–µ–º —Å–ø–∏—Å–æ–∫ –Ω–∞–∑–≤–∞–Ω–∏–π —Ñ–æ—Ä–º –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞ ‚Äî‚Äî‚Äî
    $form_ids = [];
    foreach ($leads as $l) {
        $fid = intval($l['form_id'] ?? 0);
        if ($fid) $form_ids[$fid] = true;
    }
    $form_ids = array_keys($form_ids);
    $form_names = [];
    foreach ($form_ids as $fid) $form_names[$fid] = $get_form_title($fid);

    // ‚Äî‚Äî‚Äî –§–∏–ª—å—Ç—Ä –ø–æ —Ñ–æ—Ä–º–µ ‚Äî‚Äî‚Äî
    $selected_form = isset($_GET[$form_var]) ? intval($_GET[$form_var]) : 0;
    if ($selected_form) {
        $leads = array_values(array_filter($leads, fn($l) => intval($l['form_id'] ?? 0) === $selected_form));
    }

    // ‚Äî‚Äî‚Äî –ü–∞–≥–∏–Ω–∞—Ü–∏—è ‚Äî‚Äî‚Äî
    $total = count($leads);
    $total_pages = max(1, (int)ceil($total / $per_page));
    $page = isset($_GET[$page_var]) ? max(1, intval($_GET[$page_var])) : 1;
    if ($page > $total_pages) $page = $total_pages;
    $leads_slice = array_slice(array_reverse($leads), ($page - 1) * $per_page, $per_page);

    // ‚Äî‚Äî‚Äî –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (–∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–∞—è) ‚Äî‚Äî‚Äî
    $views = (int)get_user_meta($user->ID, 'wh_views', true);
    $total_leads_saved = (int)get_user_meta($user->ID, 'wh_leads_count', true);
    if ($total_leads_saved !== count($leads)) {
        $total_leads_saved = count($leads);
        update_user_meta($user->ID, 'wh_leads_count', $total_leads_saved);
    }
    $views++;
    update_user_meta($user->ID, 'wh_views', $views);
    $conversion = $views ? round(($total_leads_saved / $views) * 100, 1) : 0;

    // ‚Äî‚Äî‚Äî –†–µ–Ω–¥–µ—Ä ‚Äî‚Äî‚Äî
    ob_start();
    ?>
    <div class="whieda-card stat">
        <div class="stat-item"><span>üëÅ –ü—Ä–æ—Å–º–æ—Ç—Ä—ã:</span> <strong><?php echo esc_html($views); ?></strong></div>
        <div class="stat-item"><span>üìù –ó–∞–ø–æ–ª–Ω–∏–ª–∏ –∞–Ω–∫–µ—Ç—É:</span> <strong><?php echo esc_html($total_leads_saved); ?></strong></div>
        <div class="stat-item"><span>‚ö° –ö–æ–Ω–≤–µ—Ä—Å–∏—è:</span> <strong><?php echo esc_html($conversion); ?>%</strong></div>
    </div>

    <form method="get" class="whieda-filter">
        <label for="wh_form_filter">–ü–æ–∫–∞–∑–∞—Ç—å –∑–∞—è–≤–∫–∏ –ø–æ —Ñ–æ—Ä–º–µ:</label>
        <select id="wh_form_filter" name="<?php echo esc_attr($form_var); ?>" onchange="this.form.submit()">
            <option value="0"<?php selected(0, $selected_form); ?>>–í—Å–µ —Ñ–æ—Ä–º—ã</option>
            <?php foreach ($form_names as $fid => $fname): ?>
                <option value="<?php echo esc_attr($fid); ?>"<?php selected($fid, $selected_form); ?>>
                    <?php echo esc_html($fname); ?>
                </option>
            <?php endforeach; ?>
        </select>
        <?php
        // —Å–æ—Ö—Ä–∞–Ω—è–µ–º –ø—Ä–æ—á–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (–∫—Ä–æ–º–µ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏), –µ—Å–ª–∏ –µ—Å—Ç—å
        foreach ($_GET as $k=>$v) {
            if ($k === $page_var || $k === $form_var) continue;
            echo '<input type="hidden" name="'.esc_attr($k).'" value="'.esc_attr($v).'">';
        }
        ?>
    </form>

    <?php if (!$leads_slice): ?>
        <p>–ó–∞—è–≤–æ–∫ –ø–æ –≤—ã–±—Ä–∞–Ω–Ω–æ–π —Ñ–æ—Ä–º–µ –Ω–µ—Ç.</p>
    <?php else: ?>

        <?php
        // –ö–∞—Ä—Ç–∞ —á–∏—Ç–∞–µ–º—ã—Ö –Ω–∞–∑–≤–∞–Ω–∏–π –≤–æ–ø—Ä–æ—Å–æ–≤
        $labels = [
            'name-1'       => '–ò–º—è',
            'textarea-1'   => '–ö–æ–Ω—Ç–∞–∫—Ç—ã / –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π',
            'checkbox-1[]' => '–ß–µ–º –≤—ã –∑–∞–Ω–∏–º–∞–µ—Ç–µ—Å—å?',
            'checkbox-2[]' => '–ß—Ç–æ –¥–ª—è –≤–∞—Å —Å–µ–π—á–∞—Å –≤–∞–∂–Ω–µ–µ –≤—Å–µ–≥–æ?',
            'checkbox-3[]' => '–ö–∞–∫—É—é —Å—É–º–º—É –¥–æ—Ö–æ–¥–∞ —Ö–æ—Ç–∏—Ç–µ –≤ –ø–µ—Ä–≤—ã–π –º–µ—Å—è—Ü?',
            'checkbox-4[]' => '–ß—Ç–æ –º–µ—à–∞–ª–æ –∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –±–æ–ª—å—à–µ?',
            'checkbox-5[]' => '–°–∫–æ–ª—å–∫–æ –≥–æ—Ç–æ–≤—ã —É–¥–µ–ª—è—Ç—å –≤—Ä–µ–º–µ–Ω–∏ –≤ –¥–µ–Ω—å?',
            'checkbox-6[]' => '–ö–∞–∫–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ö–æ—Ç–∏—Ç–µ –ø–æ–ª—É—á–∏—Ç—å?',
            'checkbox-7[]' => '–í –∫–∞–∫–æ–π —Å—Ñ–µ—Ä–µ —Ö–æ—Ç–∏—Ç–µ —Ä–∞–∑–≤–∏–≤–∞—Ç—å—Å—è?',
            'checkbox-8[]' => '–£–¥–æ–±–Ω–æ–µ –≤—Ä–µ–º—è —Å–≤—è–∑–∏',
            'checkbox-9[]' => '–£–¥–æ–±–Ω—ã–π —Å–ø–æ—Å–æ–± —Å–≤—è–∑–∏',
        ];
        $skip = ['forminator_nonce','_wp_http_referer','form_id','page_id','form_type','current_url','render_id','action','ref','submitted_at'];
        ?>

        <?php foreach ($leads_slice as $entry): ?>
            <?php
            $submitted_at = isset($entry['submitted_at']) ? trim($entry['submitted_at']) : '';
            // –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–ª–µ–π: —Å–∫–ª–µ–∏–≤–∞–µ–º checkbox-* –∏ custom-checkbox-*
            $norm = [];
            foreach ($entry as $k => $v) {
                if (in_array($k, $skip, true)) continue;
                $vals = is_array($v) ? $v : [$v];

                if (preg_match('/^custom-checkbox-(\d+)$/', $k, $m)) {
                    $mk = "checkbox-{$m[1]}[]";
                    foreach ($vals as $it) {
                        $txt = trim((string)$it);
                        if ($txt !== '') $norm[$mk][] = $txt;
                    }
                    continue;
                }
                if (preg_match('/^checkbox-(\d+)(?:\[\d*\]|\[\])?$/', $k, $m)) {
                    $mk = "checkbox-{$m[1]}[]";
                    foreach ($vals as $it) {
                        $txt = trim((string)$it);
                        if ($txt !== '') $norm[$mk][] = $txt;
                    }
                    continue;
                }
                foreach ($vals as $it) {
                    $txt = trim((string)$it);
                    if ($txt !== '') $norm[$k][] = $txt;
                }
            }
            // –û—á–∏—Å—Ç–∫–∞ –∑–Ω–∞—á–µ–Ω–∏–π –æ—Ç –¥—É–±–ª–µ–π/–º—É—Å–æ—Ä–∞
            foreach ($norm as $k => &$arr) {
                $arr = array_values(array_unique(array_filter($arr, function($x){
                    $x = trim($x);
                    if ($x === '' || strtolower($x) === 'custom_option' || strtolower($x) === 'custom option') return false;
                    if (preg_match('/^\d+$/', $x)) return false; // –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤—ã–≤–∞–µ–º —Å–ª—É—á–∞–π–Ω—ã–µ —á–∏—Å–ª–æ–≤—ã–µ —Ö–≤–æ—Å—Ç—ã
                    return true;
                })));
                // –µ—Å–ª–∏ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç —Å–ª–æ–≤–æ "–¥—Ä—É–≥–æ–µ" –∏ –µ—Å—Ç—å –µ—â—ë –∑–Ω–∞—á–µ–Ω–∏—è ‚Äî –æ—Å—Ç–∞–≤–ª—è–µ–º —Ç–æ–ª—å–∫–æ —è–≤–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã
                $hasOtherWord = false;
                foreach ($arr as $x) { if (preg_match('/–¥—Ä—É–≥–æ/iu', $x)) { $hasOtherWord = true; break; } }
                if ($hasOtherWord && count($arr) > 1) {
                    $arr = array_values(array_filter($arr, fn($x)=>!preg_match('/–¥—Ä—É–≥–æ/iu',$x)));
                }
                if (!$arr) unset($norm[$k]);
            }
            unset($arr);
            ?>

            <div class="whieda-card">
                <div class="lead-head">üïí –í—Ä–µ–º—è –æ—Ç–ø—Ä–∞–≤–∫–∏: <strong><?php echo esc_html($submitted_at); ?></strong></div>
                <table class="whieda-table">
                    <?php foreach ($norm as $k => $vals): 
                        $label = $labels[$k] ?? ucfirst(str_replace(['name-','checkbox-','textarea-','[]','-','_'],' ',$k));
                        $value = implode(', ', $vals);
                        ?>
                        <tr>
                            <td class="label"><?php echo esc_html($label); ?></td>
                            <td class="value"><?php echo esc_html($value); ?></td>
                        </tr>
                    <?php endforeach; ?>
                </table>
            </div>
        <?php endforeach; ?>

        <?php if ($total_pages > 1): 
            $base_url = get_permalink();
            $build_url = function($p) use ($base_url,$page_var,$form_var,$selected_form){
                $args = [$page_var=>$p];
                if ($selected_form) $args[$form_var] = $selected_form;
                return esc_url(add_query_arg($args, $base_url));
            };
        ?>
            <nav class="whieda-pager">
                <?php if ($page > 1): ?>
                    <a class="btn" href="<?php echo $build_url($page-1); ?>">‚Üê –ü—Ä–µ–¥—ã–¥—É—â–∞—è</a>
                <?php endif; ?>
                <?php for ($i=1; $i<=$total_pages; $i++): ?>
                    <a class="num <?php echo $i===$page?'active':''; ?>" href="<?php echo $build_url($i); ?>"><?php echo $i; ?></a>
                <?php endfor; ?>
                <?php if ($page < $total_pages): ?>
                    <a class="btn" href="<?php echo $build_url($page+1); ?>">–°–ª–µ–¥—É—é—â–∞—è ‚Üí</a>
                <?php endif; ?>
            </nav>
        <?php endif; ?>
    <?php endif; ?>

    <style>
    .whieda-card{margin:18px 0;border:1px solid #eaeaea;border-radius:12px;background:#fff;box-shadow:0 1px 2px rgba(0,0,0,.03)}
    .whieda-card.stat{display:flex;gap:18px;align-items:center;padding:14px 16px;background:#fafafa}
    .stat-item span{color:#666;margin-right:6px}
    .whieda-filter{display:flex;align-items:center;gap:10px;margin:10px 0 16px}
    .whieda-filter select{padding:6px 10px;border:1px solid #ddd;border-radius:8px;background:#fff}
    .lead-head{padding:10px 12px;border-bottom:1px solid #f1f1f1;color:#666;font-size:14px;border-radius:12px 12px 0 0}
    .whieda-table{width:100%;border-collapse:collapse;table-layout:fixed}
    .whieda-table td{padding:9px 12px;border-bottom:1px solid #f5f5f5;vertical-align:top;word-wrap:break-word}
    .whieda-table td.label{width:50%;font-weight:700;color:#222}
    .whieda-table td.value{width:50%;color:#111}
    .whieda-pager{display:flex;gap:8px;align-items:center;justify-content:center;margin:14px 0}
    .whieda-pager .btn{padding:6px 10px;border:1px solid #ddd;border-radius:8px;text-decoration:none;color:#333;background:#fff}
    .whieda-pager .num{padding:6px 10px;border:1px solid #eee;border-radius:8px;text-decoration:none;color:#666}
    .whieda-pager .num.active{background:#111;color:#fff;border-color:#111}
    @media (max-width:640px){
        .whieda-card.stat{flex-direction:column;align-items:flex-start}
        .whieda-table td.label,.whieda-table td.value{width:100%;display:block}
    }
</style>

    <?php

    return ob_get_clean();
});
```

## –ß–µ—Ä–Ω–æ–≤–∏–∫: `[whieda_new_results_slider]`

```
/**
 * –§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã ‚Äî –ù–æ–≤–∏—á–∫–∏ [whieda_new_results_slider]
 * –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ: loop –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π –∏ —Å—Ç—Ä–µ–ª–∫–∏ —Ç–æ—á–Ω–æ –ø–æ —Ü–µ–Ω—Ç—Ä—É.
 */
if (!shortcode_exists('whieda_new_results_slider')) {
  add_shortcode('whieda_new_results_slider', function () {
    ob_start(); ?>
    <style>
      .video-slider-container {
        max-width: 1280px;
        margin: 40px auto;
        padding: 0 20px;
        position: relative;
      }
      .video-slider h2 {
        color: #8C20FF;
        font-size: 28px;
        margin-bottom: 8px;
        text-align: center;
      }
      .video-slider p.subtitle {
        text-align: center;
        color: #333;
        font-size: 17px;
        margin-bottom: 24px;
      }

      .swiper { width: 100%; }
      .swiper-slide {
        position: relative;
        overflow: hidden;
        border-radius: 12px;
      }

      .video-poster {
        width: 100%;
        height: auto;
        border-radius: 12px;
      }

      .play-button {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background: #fff;
        border: 3px solid #8C20FF;
        border-radius: 50%;
        width: 56px;
        height: 56px;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        z-index: 5;
        transition: transform 0.2s ease;
      }
      .play-button:hover { transform: translate(-50%, -50%) scale(1.1); }
      .play-button:after { content: '‚ñ∂'; color: #8C20FF; font-size: 22px; padding-left: 3px; }

      /* —Å—Ç—Ä–µ–ª–∫–∏ */
.mySwiperNew .swiper-button-prev,
.mySwiperNew .swiper-button-next {
  background: #fff !important;
  color: #8C20FF !important;
  border: 2px solid #8C20FF !important;
  border-radius: 8px !important; /* ‚Üê —á—É—Ç—å —Å–∫—Ä—É–≥–ª—ë–Ω–Ω—ã–π –∫–≤–∞–¥—Ä–∞—Ç */
  width: 34px !important;
  height: 34px !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  position: absolute !important;
  top: 50% !important;
  margin-top: -17px !important;
  z-index: 10 !important;
  box-shadow: 0 0 6px rgba(0,0,0,0.08);
  transition: all 0.25s ease;
}
.mySwiperNew .swiper-button-prev:hover,
.mySwiperNew .swiper-button-next:hover {
  background: #8C20FF !important;
  color: #fff !important;
  transform: scale(1.1);
}
.mySwiperNew .swiper-button-prev::after,
.mySwiperNew .swiper-button-next::after {
  font-size: 16px !important;
  font-weight: bold !important;
}




      /* –º–æ–¥–∞–ª–∫–∞ */
      #videoModalOverlayNew {
        display: none;
        position: fixed;
        inset: 0;
        background: rgba(0,0,0,0.85);
        justify-content: center;
        align-items: center;
        z-index: 9999;
      }
      #videoModalOverlayNew.active { display: flex; }
      #videoModalOverlayNew video {
        max-width: 90vw;
        max-height: 80vh;
        border-radius: 12px;
      }
      #videoModalOverlayNew .close-btn {
        position: absolute;
        top: 20px;
        right: 30px;
        font-size: 32px;
        color: #fff;
        cursor: pointer;
      }
    </style>

    <div class="video-slider-container">
      <div class="video-slider">
        <h2>üíµ –°–∫–æ–ª—å–∫–æ –∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç –Ω–æ–≤–∏—á–∫–∏ —É–∂–µ –≤ –ø–µ—Ä–≤—ã–π –º–µ—Å—è—Ü</h2>
        <p class="subtitle">500‚Äì1000$ –∑–∞ 2‚Äì4 –Ω–µ–¥–µ–ª–∏ ‚Äî —Ä–µ–∞–ª—å–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –Ω–∞—à–∏—Ö –Ω–æ–≤—ã—Ö –ø–∞—Ä—Ç–Ω—ë—Ä–æ–≤</p>

        <div class="swiper mySwiperNew">
          <div class="swiper-wrapper">
            <?php
              $ids = ['new_1','new_2','new_3','new_4','new_5'];
              foreach ($ids as $v){
                $mp4 = "/wp-content/uploads/video/finance/new/{$v}.mp4";
                $jpg = "/wp-content/uploads/video/finance/new/{$v}.jpeg";
                echo '<div class="swiper-slide">';
                echo '  <div class="video-slide">';
                echo '    <img src="'.esc_url($jpg).'" class="video-poster" alt="WHIEDA —Ä–µ–∑—É–ª—å—Ç–∞—Ç">';
                echo '    <div class="play-button" data-src="'.esc_url($mp4).'"></div>';
                echo '  </div>';
                echo '</div>';
              }
            ?>
          </div>
          <div class="swiper-button-prev"></div>
          <div class="swiper-button-next"></div>
        </div>
      </div>
    </div>

    <div id="videoModalOverlayNew">
      <span class="close-btn">&times;</span>
      <video controls autoplay playsinline></video>
    </div>

    <script>
      document.addEventListener('DOMContentLoaded', function () {
        const container = document.querySelector('.mySwiperNew');
        const wrapper = container.querySelector('.swiper-wrapper');
        const slides = Array.from(wrapper.children);

        // –¥–æ–±–∞–≤–ª—è–µ–º –¥—É–±–ª–∏–∫–∞—Ç—ã –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ loop
        const minSlides = 9; // –º–∏–Ω–∏–º—É–º 3*3 –¥–ª—è —É—Å—Ç–æ–π—á–∏–≤–æ–≥–æ —Ü–∏–∫–ª–∞
        while (wrapper.children.length < minSlides) {
          slides.forEach(s => wrapper.appendChild(s.cloneNode(true)));
        }

        const modal = document.getElementById('videoModalOverlayNew');
        const video = modal.querySelector('video');

        const swiper = new Swiper('.mySwiperNew', {
          slidesPerView: 3,
          spaceBetween: 20,
          loop: true,
          loopAdditionalSlides: 8,
          navigation: {
            nextEl: '.mySwiperNew .swiper-button-next',
            prevEl: '.mySwiperNew .swiper-button-prev',
          },
          autoplay: {
            delay: 6000,
            disableOnInteraction: false,
          },
          speed: 700,
          breakpoints: {
            0: { slidesPerView: 1 },
            600: { slidesPerView: 2 },
            992: { slidesPerView: 3 },
          },
          on: {
            afterInit() { this.update(); }
          }
        });

        // –∫–ª–∏–∫–∏ –ø–æ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–º –∫–Ω–æ–ø–∫–∞–º play
        document.querySelectorAll('.mySwiperNew .play-button').forEach(btn => {
          btn.addEventListener('click', function () {
            video.src = this.dataset.src;
            modal.classList.add('active');
            video.play();
          });
        });

        modal.querySelector('.close-btn').addEventListener('click', () => {
          video.pause(); video.src=''; modal.classList.remove('active');
        });
        modal.addEventListener('click', e => {
          if (e.target === modal) {
            video.pause(); video.src=''; modal.classList.remove('active');
          }
        });

        container.addEventListener('mouseenter', () => swiper.autoplay.stop());
        container.addEventListener('mouseleave', () => swiper.autoplay.start());
      });
    </script>
    <?php
    return ob_get_clean();
  });
}
```
