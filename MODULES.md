# Модули

## Core (Legacy)
- Legacy Runtime (vsepro100.info) как эталон.
- Канонические сущности ref/CRM.

## Webinars Layer
- LIVE вебинары.
- AUTO вебинары.

## Integrations

### integration-web-form (Integration)
**Назначение:** базовая интеграция веб-формы с Core Ingest.

**Границы ответственности:**
- Отрисовка минимальной HTML-формы для сбора name и email.
- Формирование payload и вызов хука core_ingest_event.

**Не входит в ответственность:**
- Создание сущностей или lead_meta в Core.
- Любая бизнес-логика Core или прямые записи в БД.

### autowebinar-delivery (Service/UI)
**Назначение:** доставка AutoWebinar как независимого модуля без зависимости от LIVE.

**Границы ответственности:**
- Показывает AutoWebinar с «эффектом живого» и управляет сессией просмотра.
- Использует только канонический referral/CRM контур и user_meta.
- Генерирует события AutoWebinar для аналитики и CRM.

**Не входит в ответственность:**
- Регистрация пользователей (любой обход /signup/).
- Создание или дублирование CRM.
- Логика LIVE-вебинара или общая подсистема live-доставки.

## Services

### scenario-engine (Service)
**Назначение:** диспетчер сценариев на основе канонических событий Core.

**Границы ответственности:**
- Подписка на канонические события Core и запуск сценариев.

**Не входит в ответственность:**
- Любая отправка сообщений или прямой контакт с внешними сервисами.

### scenario-welcome-telegram (Service)
**Назначение:** исполнитель сценария welcome с отправкой сообщения в Telegram.

**Границы ответственности:**
- Подписка на событие scenario_start и отправка Telegram-сообщения для сценария welcome.

**Не входит в ответственность:**
- Любая логика сценариев кроме welcome.

### scenario-followup-telegram (Service)
**Назначение:** исполнитель follow-up сценария с отложенной отправкой сообщения в Telegram.

**Границы ответственности:**
- Подписка на событие scenario_start, планирование отложенного запуска и отправка follow-up сообщения в Telegram.

**Не входит в ответственность:**
- Запуск новых сценариев или изменение логики core/scenario-engine.

### client-webinar-tracker (Service)
**Назначение:** сервис эмиссии канонических событий состояния клиентского вебинара.

**Границы ответственности:**
- Предоставляет публичные хелперы для ручной эмиссии событий состояния вебинара.
- Эмитирует только события через do_action без логики детекции или хранения.

**Не входит в ответственность:**
- Любые сценарии, уведомления, UI или хранение состояния.
